<h1 align="center">基于知识图谱的法律问答系统~💫！</h1>
<a align = "center" href="https://imgse.com/i/xW9WZ9"><img src="https://raw.githubusercontent.com/martine-stdo/my_images/master/%E9%A6%96%E9%A1%B5%E5%B1%95%E7%A4%BA.gif" alt="xW9WZ9.png" border="0" /></a>

<br>

##### 项目简介

****
### 界面展示
##### 1.系统欢迎界面
![](https://raw.githubusercontent.com/martine-stdo/my_images/master/%E9%A6%96%E9%A1%B5%E5%B1%95%E7%A4%BA.gif)

##### 1.登录界面
[![p9V4KeO.png](https://s1.ax1x.com/2023/04/22/p9V4KeO.png)](https://imgse.com/i/p9V4KeO)
##### 2.注册界面
[![p9V4ZS1.png](https://s1.ax1x.com/2023/04/22/p9V4ZS1.png)](https://imgse.com/i/p9V4ZS1)
##### 3.主界面
![](https://raw.githubusercontent.com/martine-stdo/my_images/master/%E4%B8%BB%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA.gif)
##### 4.问答模块
![](https://raw.githubusercontent.com/martine-stdo/my_images/master/%E6%B3%95%E5%BE%8B%E5%92%A8%E8%AF%A2%E5%B1%95%E7%A4%BA.gif)
##### 5.图谱可视化模块
![](https://raw.githubusercontent.com/martine-stdo/my_images/master/%E6%99%BA%E6%85%A7%E5%9B%BE%E8%B0%B1%E5%B1%95%E7%A4%BA.gif)
##### 6.词云展示
![](https://raw.githubusercontent.com/martine-stdo/my_images/master/%E8%AF%8D%E4%BA%91%E5%B1%95%E7%A4%BA.gif)
##### 7.数据库展示
![](https://raw.githubusercontent.com/martine-stdo/my_images/master/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B1%95%E7%A4%BA.gif)
##### 8.联系我们界面
![](https://raw.githubusercontent.com/martine-stdo/my_images/master/%E8%81%94%E7%B3%BB%E6%88%91%E4%BB%AC%E5%B1%95%E7%A4%BA.gif)

####2.1 问题来源
法律救济制度是各国都普遍认可和实行的，而中国的司法救济体制相对较晚，直到1994年广州司法救济中心的建立才逐渐形成，2003年颁布了《法律援助条例》。法律援助的目的是为那些因经济困难而无法获得法律救助的人提供帮助，包括未成年人犯罪案件。法律援助的目标是保护弱势群体的合法权利，为他们提供必要的司法救助，以促进社会的公平和公正[2]。在中国的农村地区，由于贫困、文化程度低和身体健康等原因，很难依靠自身的能力来保护自己的合法权益。有时需要从外地调取专业人才队伍来从事农村的法律援助工作，但由于当地的薪资福利和法律援助环境等问题，导致法律援助人员流动性大，降低了法律援助办案的效率[3]。而随着互联网的普及，人们越来越倾向于使用网络来获取相关信息，这也使得线上网络问询服务的应用范围更加广泛。然而，互联网上的信息和知识质量良莠不齐，对于非专业人士来说，很难分辨法律知识内容的可信度。
尤其是对于非法律专业人士来说，他们很难理解法律条款的用语和含义。法律是一门专业性很强的学科，其中包含大量的专业术语和法律程序，非专业人民群众缺乏相关的专业知识和法律背景，很难理解法律问题的本质和解决方法[4]。而法律问题往往涉及到多个方面的因素，包括但不限于合同法、财产权、劳动法、知识产权等等，普通人很难掌握这些领域的全部知识，更难在多个领域中正确理解和解决问题。且人们往往缺乏对法律系统和司法程序的了解，不知道如何正确地寻求帮助和解决问题。他们可能会因为找不到适合自己的律师，或者不知道如何选择律师而放弃寻求法律援助。即使找到了律师，而这通常会带来很高的费用。
此外，从用户角度出发：专业的法律咨询业务不仅费用高，时效长，而且难以获取，普通民众几乎难以得到兼顾费用、时效及专业程度的法律咨询业务。从律师从业者的角度出发：针对用户咨询问题，个人所擅长的专业领域不同，专业程度也良莠不齐，用户得到的答复质量也参差不齐。同时法律问题琐碎繁杂，除了少数个案大案，其他案件易出现高投入低回报的投入产出不对等现象，一定程度上也打击了律师从业者的解答积极性。因此，为了更好地解决这些问题，提高法律服务的质量和效率，更方便的帮助人们进行法律咨询，提高普通人的法律素养和法律意识，一个免费快捷的法律问答系统显得十分重要。
#### 2.2 现有解决方案
基于民众信息的不对称、法律咨询服务的便利性和法律服务的效率与准确性等因素，我们当前的解决方案是建立一个便捷的、基于智慧图谱的法律问答系统，用户只需选择对应的法律模块，再输入问题后，即可得到对应的答案。
在法律的构建中，法律条文往往具有一定的繁冗性。法律条文通常需要覆盖大量的细节，以确保法律规定的适用范围和实施效力。这就导致了法律文本的篇幅可能很长，且包含大量的技术性术语和法律定义。法律规定需要准确明确地表述，以避免不同解释和争议的产生。这就导致法律文本可能采用复杂的语句结构、使用大量的修饰语和从句，使得读者难以快速理解其含义。此外，法律文本通常需要照顾到各种可能的情况和利益，以确保公正和公平的原则得到保障。这会让法律文本可能包含大量的附加条件和例外规定，使得读者难以在实践中准确适用。而基于用户群体的普遍性，人们在咨询法律问题时，往往希望得到一个直观且有依据的回答，所以我们在组建回答的构造时，采用了直观回答加相关法律条文的结构，这样的结果才更加的准确，也会让用户拥有自己的判断性。
除了基本的问答系统，我们同时希望构造一个更加直观的、全面的法律知识体系。近年来，随着人工智能技术的快速发展，智慧图谱成为了研究的热点之一。智慧图谱是一种以语义为基础，描述事物间关系的知识表达方式[5]，通过梳理海量数据之间的联系，将数据转化为可理解、可操作的知识。智慧图谱可立足用户，以为所有人提供经济、高效、专业的法律咨询服务为愿景，做到为使用系统的所有用户提供免费的、便捷的、准确的法律答复，提升法律服务的质量。基于智慧图谱的直观性，我们在将法律模块分为十二大类后，期望将每一个模块都做出一个直观全面的图谱，而我们的问答系统，也将是在智慧图谱的基础上进行搭建的。
#### 2.3 本作品要解决的痛点问题
相比较于2.2节，法律问答系统可以方便人们日常生活中的使用，更加有力的捍卫自身的合法权益。其他在该项目中提出和需要解决的主要是一下两个问题：
（1）智慧图谱：构建一个覆盖广泛、内容准确的法律智慧图谱是构建法律问答系统的关键。需要从各种渠道搜集法律知识，并进行结构化和标注，使得知识可以被计算机理解和应用[6]。
（2）法律问答系统：需要能够理解自然语言，包括对问题的分析、语义理解、实体识别等[7]。需要采用先进的自然语言处理技术，例如命名实体识别、句法分析、语义角色标注等。针对用户提出的问题，需要通过匹配和检索技术来找到最合适的答案。这需要使用信息检索技术，包括查询扩展、检索排序、相关性反馈等[8]。在构建法律问答系统时，需要考虑用户交互和体验。需要设计一个友好的用户界面，以便用户可以方便地提出问题并获得答案。而由于法律问答系统需要处理用户的个人信息和敏感信息，因此需要采取一系列隐私保护措施，以确保用户信息的安全和保密，这包括加密技术、访问控制等。
#### 2.4 解决问题的思路
2.4.1 作品的功能
本次法律问答系统基于法律资源尚不能完全普及的现状下而搭建，主要分为四大模块，提供了查询十二大类的法律问题，直观查看各类法律问题的分布及出现频率等。
（a）法律问答系统：我们在系统中选择需要咨询的法律问题的类别，并输入提问语句，系统即可展示与提问问题最接近的五个相关问句，如图2（b）所示，我们从中选择想要提问的问句，即可得到回答，如图2（c）所示。
（b）智慧图谱：智慧图谱可以直观的显示出每个法律类别中的所有问题，以及它们与主体模块的关系，如图3所示。
（c）法律词云模块：该模块展示了十二法律大类的关键词即高频词，可以通过不同的方式进行展示，直观的展示出每个法律类别的热搜词，如图3所示。
（d）数据库模块：该模块展示了各个法律类别的占比，直观显示出各模块的数据数量，以可视化图形的方式为主体，通过鼠标移动可查看具体图标的相关数据，如图4所示。

##安装说明
请确保您的Python版本满足上表要求本项目推荐使用Python虚拟环境来进行构建，Python 虚拟环境的安装和创建如下：（若不想使用Python 虚拟环境可直接查看步骤3）
（1）运行 pip install virtualenv 安装python虚拟环境
（2）删除项目中的env文件夹，执行 python -m venv env(重新设置python虚拟环境),如果创建成功，您将会看到一个新的env文件夹，在当前项目的根目录打开终端输入env/Srcipt/activate您将会在命名行前看到(env)字样如下图35所示：
 
图 35  env示例
（3）安装所需依赖
其中第三方库包含：
a. Flask是一个轻量级的可定制框架，使用Python语言编写，较其他同类型框架更为灵活、轻便、安全且容易上手。
b. pandas 提供了大量能使我们快速便捷地处理数据的函数和方法，提供了高效地操作大型数据集所需的工具。
c. requests 库是一个简洁且简单的处理 HTTP 请求的第三方库,简单来说就是来处理 http 请求的库,有国际域名和url获取，用来实现爬虫。
d. py2neo是python中与Neo4j图形数据库进行交互的工具包，提供了简单而强大的API和对象模型，支持Cypher查询语言和ORM框架，可用于构建和管理复杂的图形应用程序。
e. SQLAlchemy 是 Python 编程语言下的一款 ORM 框架,该框架建立在数 据库 API 之上,使用关系对象映射进行数据库操作。
主要依赖环境如下所示：
依赖环境	版本号	作用
fuzzywuzzy	0.18.0	用于模糊字符串匹配和字符串相似度计算。
Wordcloud	1.8.1	用于生成词云，根据词语的频率制作图形根。
interchange	2021.0.4	是一个开源的标准格式库，用于数据交换，以确保不同数据之间的无缝连接和交互操作。
python-dateutil	2.8.2	用于解析和操作日期时间数据，可方便地进行日期时间的处理和格式化。

3. 您无需手动安装在终端中执行命令 pip install -r requirements.txt即可安装所有所需的依赖。
4. 按照官网教程安装neo4j Desktop,并以管理员身份运行打开创建新的项目，新建数据库版本选择5.3.0，用户名输入neo4j，密码为12345678。
5. 更改项目中图数据库密码，在connect_neo4j.py中的Graph方法中，修改anth中的数据为自己本机中的neo4j的用户名和密码（如本机中的用户名为neo4j，密码为12345678则无需修改）如下图36所示。
 
图 36  neo4j数据库登录
点击设置将端口号启用，如下图37所示：
 
（a） 打开设置
 
（b） 放开端口号
图 37  端口号启用
点击start启动数据库，如下图38所示。
 
图 38  点击start启动
6.在项目的Graph_build文件夹下打开终端输入命令python ./connect_neo4j.py运行该文件，构建智慧图谱；代码中以三元组为单位，法律模块为主体，相关问题和答案为节点，依次循环数据库文件进行扫描建立，其中，法律模块和问题节点之间的关系为“包含”，问题节点和答案节点间的关系为“专业回答”。
7. 确保位于该项目的根目录下，并确保启动python虚拟环境，运行app.py，打开终端执行命令python app.py运行成功将会出现以下字样，如下图39所示。
 
图 39  运行成功示例
8. 打开浏览器，输入localhost:5000，一切顺利您将会看到以下页面：



##### 项目简介
1.推荐使用python虚拟环境运行我的python 版本是3.11.2

2.要运行这个项目需要先运行```pip install -r requiremnets.txt```

3.关于router的书写，实现了一个简单的cookie认证系统，每一个post,get请求建议使用``` if check_cookie:```来保证跳转的安全性，cookie认证通过会保持7天，过期后会跳转到login界面，重新认证，建议后续更新router路由也遵照这个方法
[![p9ACkQO.png](https://s1.ax1x.com/2023/04/20/p9ACkQO.png)](https://imgse.com/i/p9ACkQO)










<div style="text-align: center;">
  <footer>
        <a href="http://nighterdream.cn" rel="nofollow"><img
                src="https://camo.githubusercontent.com/2d84a91827fe5272aa60911875358e725a9db67d57d1b433561b2a973d63faa0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2545362538382539312545372539412538342545352538442539412545352541452541322d6e696768746572647265616d2e636e2d3430633566312e737667"
                alt="博客"
                data-canonical-src="https://img.shields.io/badge/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2-nighterdream.cn-40c5f1.svg"
                style="max-width: 100%;"></a>
        <a href="https://space.bilibili.com/33934287?spm_id_from=333.1007.0.0" rel="nofollow"><img
                src="https://camo.githubusercontent.com/9c5afcc41e679719e7ba6d49c37a0e73545b127c55a4556edace4324f47a7473/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f42696c6942696c692d626c75652e7376673f6c6f676f3d62696c6962696c69266c6f676f436f6c6f723d7768697465"
                alt="Bilibili"
                data-canonical-src="https://img.shields.io/badge/BiliBili-blue.svg?logo=bilibili&amp;logoColor=white"
                style="max-width: 100%;"></a>
        <a href="mailto:nighterdream123@gmail.com"><img
                src="https://camo.githubusercontent.com/02887598c5d249446fcbdeda40c422e01b322409de8b3caa9c2a1bd288da7f65/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2545392538322541452545372541452542312d6e696768746572647265616d31323340676d61696c2e636f6d2d6236393131382e737667"
                alt="邮箱"
                data-canonical-src="https://img.shields.io/badge/%E9%82%AE%E7%AE%B1-nighterdream123@gmail.com-b69118.svg"
                style="max-width: 100%;"></a>
    </footer>

</div>